<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">

  <h1 class="h2">Customers</h1>
  <div class="btn-toolbar mb-2 mb-md-0">
    <div class="btn-group me-2">
      <button type="button" class="btn btn-sm btn-outline-secondary" [routerLink]="['add']">Add New Customer</button>
    </div>
  </div>
</div>


<div class="container">
  <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-end">
    <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3 w-auto" role="search" >
      <!-- <input type="search" class="form-control" placeholder="Search..." aria-label="Search" name="search" [(ngModel)]="term"  > -->
      <input matInput (keyup)="applyFilter($event)" placeholder="Search" aria-label="Search" name="search" #input class="form-control" >
    </form>
  </div>



  <table mat-table [dataSource]="dataSource" matSort class="mat-typography mat-app-background mat-elevation-z8">
    <ng-container matColumnDef="_id" >
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="ustom-mat-header-styling tableHeaderCellDiv"> Customer ID</th>
      <td mat-cell *matCellDef="let row">
         <a [routerLink]="['view', row._id]"> {{row._id}} </a>
      </td>
    </ng-container>

    <!-- Progress Column -->
    <ng-container matColumnDef="firstName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="custom-mat-header-styling tableHeaderCellDiv"> FirstName </th>
      <td mat-cell *matCellDef="let row"> {{row.firstName}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="lastName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="custom-mat-header-styling tableHeaderCellDiv"> lastName </th>
      <td mat-cell *matCellDef="let row"> {{row.lastName}} </td>
    </ng-container>

    <!-- Fruit Column -->
    <ng-container matColumnDef="emailAddress">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="custom-mat-header-styling tableHeaderCellDiv"> emailAddress </th>
      <td mat-cell *matCellDef="let row"> {{row.emailAddress}} </td>
    </ng-container>

    <ng-container matColumnDef="phoneNumber">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="custom-mat-header-styling tableHeaderCellDiv"> phoneNumber </th>
      <td mat-cell *matCellDef="let row"> {{row.phoneNumber}} </td>
    </ng-container>

    <ng-container matColumnDef="department">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="custom-mat-header-styling tableHeaderCellDiv"> department </th>
      <td mat-cell *matCellDef="let row"> {{row.department}} </td>
    </ng-container>

    <ng-container matColumnDef="dateOfBirth">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="custom-mat-header-styling tableHeaderCellDiv"> date of birth </th>
      <td mat-cell *matCellDef="let row"> {{row.dateOfBirth}} </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef mat-sort-header class="custom-mat-header-styling tableHeaderCellDiv" >Actions </mat-header-cell>
      <mat-cell *matCellDef="let row">
          <button mat-icon-button matTooltip="Click to Edit" class="iconbutton" color="primary">
              <mat-icon aria-label="Edit">edit</mat-icon>
          </button>
          <button mat-icon-button matTooltip="Click to Delete" class="iconbutton" color="warn">
            <mat-icon aria-label="Delete">delete</mat-icon>
          </button>
      </mat-cell>
    </ng-container>


    <!-- <ng-container matColumnDef="delete">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Delete </mat-header-cell>
      <mat-cell *matCellDef="let element"> <button mat-icon-button matTooltip="Click to Delete" class="iconbutton"
          color="warn">
          <mat-icon>delete</mat-icon>
        </button> </mat-cell>
    </ng-container> -->

    <ng-container matColumnDef="DeleteAction">
      <th mat-header-cell *matHeaderCellDef>  </th>
      <td mat-cell *matCellDef="let element">
        <a [routerLink]="['delete', element._id]" style="color: red;">
          <i class="bi bi-x-lg"></i>
        </a>
      </td>
    </ng-container>


    <tr mat-header-row class="tableHeaderCellDiv" *matHeaderRowDef="displayedColumns; sticky: true;" ></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>

    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
    </tr>
  </table>
  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"> </mat-paginator>
</div>
